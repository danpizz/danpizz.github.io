


<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"  lang="it"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"  lang="it"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"  lang="it"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"  lang="it"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0;">
        <meta name="format-detection" content="telephone=no">

        <!-- <meta name="apple-mobile-web-app-capable" content="yes"> -->

        <meta name="author" content="Daniele Pizzoni">
        <meta name="description" content="Come escludere le nostre visite dalle statistiche di Google Analytics">
        <meta name="keywords" content="data.page.meta_keywords %>" />

            <title>Come escludere le nostre visite dalle statistiche di Google Analytics</title>

        <link href="/css/main-a2afab2e.css" rel="stylesheet" />
        <link href="/css/highlight-35741444.css" rel="stylesheet" />
        <link href="/css/print-d5585c86.css" rel="stylesheet" media="print" />

        <script src="/js/vendor/modernizr-2.6.1.min-68fdcc99.js"></script>
        <script src="/js/vendor/respond.min-bb760321.js"></script>

        <!-- <link href='/css/print-d5585c86.css' rel='stylesheet' type='text/css' media='print'> -->

        <link href='http://fonts.googleapis.com/css?family=Arvo:400,400italic' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>

        
        
    </head>

        	<body id="page" />


         <div class="masthead-shadow">
 <div class="container">
  <header id="masthead">

    <hr/>

    <nav id="menu">
      <ul>
        <li class="left"><a href="/">Chi sono</a></li>
        <li class="left"><a href="/portfolio/">Portfolio</a></li>
        <li class="right"><a href="/contatti/">Contatti</a></li>
        <li class="right"><a href="/blog/">Blog</a> | <a href="/faq/">FAQ</a></li>
      </ul>
    </nav>

    <div id="masthead-brand">
      <span class="masthead-logo" id="masthead-logo"><a href="/"><img src="/img/logo-b45c4748.png"/></a></span>
      <span class="masthead-logo" id="masthead-logo-2x"><a href="/"><img src="/img/logo@2x-d67070a7.png"/></a></span>
      
      <span class="menu-button" ><a href="#">
          <img id="menu-button-2x" src="/img/menu-icon@2x-ce9e5458.png"/>
          <img id="menu-button" src="/img/menu-icon-770ed078.png"/>
      </a></span>
      
    </div>

    <p id="motto">Daniele Pizzoni<span> &ndash; </span><br/>Artigiano del Software</p>

    <nav id="mobile-menu">
      <ul>
        <li class="left"><a href="/">Chi sono</a></li>
        <li class="left"><a href="/portfolio/">Portfolio</a></li>
        <li class="right"><a href="/blog/">Blog</a></li>
        <li class="right"><a href="/faq/">FAQ / Archivi</a></li>
        <li class="right"><a href="/contatti/">Contatti</a></li>
      </ul>
    </nav>
  </header>
</div>
</div>


            <div class="container" id="main-container">

            <div id="main" role="page">

	<h1>Come escludere le nostre visite dalle statistiche di Google Analytics</h1>
	
	<p>Quando si gestisce un sito con un traffico limitato diventa importante filtrare le proprie visite al sito dai risultati delle statistiche di <a href="http://it.wikipedia.org/wiki/Google_Analytics">Google Analytics</a> in modo da non sbilanciare i risultati.</p>

<p></p>

<p>È un po&rsquo; frustrante sapere che oggi ci sono state 67 visite al nostro sito e che buona parte sono state fatte da noi stessi&hellip; ma quante saranno le visite <em>degli altri?</em></p>

<p>Ebbene, non è semplicissimo ma si può capire. Ecco come.</p>

<h2>L&#39;idea</h2>

<p>L&#39;idea per filtrare le nostre visite è <a href="http://support.google.com/googleanalytics/bin/answer.py?hl=en&amp;answer=55481">suggerita</a> dalla stessa documentazione di GA e si trova citata <a href="http://www.google.com/?q=excluding%20your%20visits%20google%20analytics">spesso</a> in rete anche se in modo poco chiaro.</p>

<p>Dobbiamo prima creare una <em>pagina segreta</em> (in modo che nessuno ci vada per sbaglio) che imposti una <a href="http://code.google.com/apis/analytics/docs/tracking/gaTrackingCustomVariables.html">Custom Variable</a> sul browser che la carica. Poi creiamo un filtro con gli <em><a href="http://support.google.com/googleanalytics/bin/answer.py?hl=en&amp;answer=108040">Advanced Segments</a></em> sul sito di Google Analytics.</p>

<p>Tutte le visite di chi è stato sulla <em>pagina segreta</em> saranno &lsquo;segnate&rsquo; da questa variabile e con il filtro elimineremo quelle visite dalle statistiche.
<h2>Come fare</h2>
La documentazione e il nome <em>Custom Variables</em> traggono un po&rsquo; in inganno, perché si tratta di coppie <a href="http://en.wikipedia.org/wiki/Associative_array">chiave/valore</a> più che di variabili.</p>

<p>Il sistema di raccolta dati di Google Analytics permette, per ogni dominio, l&#39;impostazione di cinque coppie di valori (&#39;slot&rsquo;), che possono essere associate alla pagina, alla sessione o permanentemente al visitatore (ovvero al browser).
<div>Per impostare la coppia (<code>internal-traffic</code>, <code>true</code>) sullo slot 5 dobbiamo creare sul nostro sito una pagina html contente  la parte di codice che fornisce i dati a Google Analytics con aggiunta la riga evidenziata:</div></p>
<div class="highlight javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="kd">var</span> <span class="nx">_gaq</span> <span class="o">=</span> <span class="nx">_gaq</span> <span class="o">||</span> <span class="p">[];</span>
 <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">'_setAccount'</span><span class="p">,</span> <span class="s1">'UA-xxxxxxx-x'</span><span class="p">]);</span>
 <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">'_trackPageview'</span><span class="p">]);</span>
 <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">'_setCustomVar'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'internal-traffic'</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 <span class="kd">var</span> <span class="nx">ga</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span> <span class="nx">ga</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span> <span class="nx">ga</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
 <span class="nx">ga</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'https:'</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="p">?</span> <span class="s1">'https://ssl'</span> <span class="p">:</span> <span class="s1">'http://www'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'.google-analytics.com/ga.js'</span><span class="p">;</span>
 <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'script'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">ga</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
 <span class="p">})();</span>
</pre></td></tr></tbody></table>
</div>

<p>Il browser che ha acceduto una volta a questa pagina fa in modo che Analytics rilevi la coppia di valori (<code>internal-traffic</code>, <code>true</code>) nello slot 5. Questo sarà il modo per distinguere le nostre visite da quelle di tutti gli altri.
<h2>Visualizzazione</h2>
Per visualizzare i risultati bisogna attivare gli <em>Advanced Segments</em> sul sito di Google Analytics. Questi si trovano in alto nel tab Standard Reporting</p>

<p><img alt="Advanced Segments di Google Analytics&quot;" title="Advanced Segments" src="/img/google-analytics-shot-1-a719a3aa.png" /></p>

<p>Aggiungiamo un nuovo segmento e impostiamo il filtro relativo al <em>nome</em> della nostra coppia sullo slot 5 (il <em>valore</em> &#39;true&rsquo; lo possiamo ignorare)</p>

<p><img alt="Custom Variable Google Analytics&quot;" title="Impostare la variabile" src="/img/google-analytics-shot-3-8b9fad18.png" /></p>

<p>Quindi selezioniamo il filtro</p>

<p><img alt="Filtro di Google Analytics&quot;" title="Selezionare il filtro" src="/img/google-analytics-shot-2-dfbaaab2.png" /></p>

<p>in modo da <em>vedere</em> i nostri contributi alle visite</p>

<p><img alt="Visualizzazione visite su Google Analytics&quot;" title="Visite e visite filtrate" src="/img/google-analytics-shot-4-bd2cc277.png" /></p>

<h2>Wordpress</h2>

<p>Chi usa Wordpress in genere si affida a qualche plugin per collegarsi ad Analytics. Io ad esempio uso <a href="http://wordpress.org/extend/plugins/google-analytics-for-wordpress/">Google Analytics for WordPress</a>.</p>

<p>Con questo plugin posso ignorare del tutto gli utenti <em>autenticati</em></p>

<p><img alt="Google Analytics for WordPress&quot;" title="Ignorare utenti autenticati in Google Analytics for WordPress" src="/img/google-analytics-plugin-shot-1-e44b6525.png" /></p>

<p>oppure possiamo usare il plugin stesso per inserire una coppia (<code>logged-in</code>, <code>nomeutente</code>) nello slot 1 di Analytics.</p>

<p><img alt="Google Analytics for WordPress, custom variables&quot;" title="Impostare le variabili in Google Analytics for WordPress" src="/img/google-analytics-plugin-shot-2-8c365804.png" /></p>

<p>In sostanza posso scegliere se farmi del tutto ignorare da GA quando sono <em>loggato</em>, oppure se creare un filtro rispetto alle due variabili <code>logged-in</code> <em>o</em> <code>internal-traffic</code>.
<h2></h2>
Spesso ci capita di andare siti che gestiamo per i più svariati motivi. Usando Wordpress non sempre ci si autentica, ad esempio per controllare se ci sono nuovi commenti o per leggere delle informazioni. Usando questa tecnica è possibile eliminare l&#39;incidenza del proprio traffico, o quello di un&#39;intera azienda o gruppo di persone sui siti gestiti.</p>

<p>Se hai bisogno una consulenza su questo o altri argomenti mi puoi contattare <a href="/contatti">qui</a>.</p>


	<footer class="article-footer">
		28 Dec 2011 
		| tecniche
		| web
	</footer>

	<nav id="page-nav">
		<span class="prev">
			<a href="/blog/2012/04/app-aziendali-per-ipad-e-iphone/">App aziendali per iPad...</a>
		</span>

		<span class="next">
			<a href="/blog/2011/12/restyling-di-danielepizzoni-it/">Il nuovo look di...</a>
		</span>
	</nav>


</div>


            <!--[if lt IE 9]>

    <div class="old-bro" style="">
    	Il tuo <i>browser</i> non permette la visualizzazione ottimale di questo sito.<br>
	    <a href="http://whatbrowser.org/">Scopri subito come aggiornarlo e perché.</a>
	</div>

<![endif]-->



            <footer id="main-footer">

<div id="footer-left">
	<p>Fatto a mano da:</p>
	<p>Daniele Pizzoni &mdash; Udine, Italy (EU)</p>
	<p>P.I. 02632010308</p>
<!--    <p>pec: danielepizzoni@pec.it</p>-->
</div>

<div id="footer-center">
	<p>Connect:</p>
	<p><a href="mailto:dan@danielepizzoni.it">email</a></p>
	<p><a href="http://it.linkedin.com/in/danielepizzoni/it">linkedin</a></p>
	<p><a href="http://stackoverflow.com/users/103529/ildan">stack overflow</a></p>
</div>

<div id="footer-right">
	<p>More:</p>
	<p><a href="/archivio-anno">archivio</a> </p>
    <p><a href="/cookieprivacypolicy">informativa privacy &amp; cookie</a> </p>
    <p><a href="http://feeds.feedburner.com/danielepizzoni">rss</a></p>
</div>

<div id="credits">
	<p>Credits:
	<a href="http://middlemanapp.com">Middleman</a> 
	<a href="http://sass-lang.com">Sass</a>
	<a href="http://compass-style.org">Compass</a>
	<a href="http://susy.oddbird.net">Susy</a>
	<a href="http://daneden.me/baseline/">Baseline.js</a>
	<a href="http://www.google.com/webfonts">Google Web Fonts</a>
	<a href="http://subtlepatterns.com">Subtle Patterns</a>
	</p>
</div>
</footer>



            
        </div>

        

        

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.0.min.js"><\/script>')</script>

        <script src="/js/plugins-b0a9b306.js"></script>
        <script src="/js/main-bf7a3cf3.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-21153020-1', 'auto');
          ga('set', 'anonymizeIp', true);
          ga('send', 'pageview');
        </script>


    </body>
</html>
